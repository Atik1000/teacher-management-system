{% extends "base/base.html" %}
{% load static %}

{% block content %}
<div class="container mt-5">
  <h1 class="mb-4">{% if form.instance.pk %}Update Student{% else %}Create Student{% endif %}</h1>
  <form method="post">
    {% csrf_token %}
    <div class="form-group">
      <label for="{{ form.name.id_for_label }}">Name:</label>
      <input type="text" name="{{ form.name.name }}" id="{{ form.name.id_for_label }}"
             class="form-control" value="{{ form.name.value|default_if_none:'' }}" required>
    </div>
    <div class="form-group">
      <label for="{{ form.student_id.id_for_label }}">Student ID:</label>
      <input type="text" name="{{ form.student_id.name }}" id="{{ form.student_id.id_for_label }}"
             class="form-control" value="{{ form.student_id.value|default_if_none:'' }}" required>
    </div>
    <div class="form-group">
      <label for="{{ form.intake.id_for_label }}">Intake:</label>
      <select name="{{ form.intake.name }}" id="{{ form.intake.id_for_label }}"
              class="form-control" required>
        <option value="">Select Intake</option>
        {% for intake in intakes %}
          <option value="{{ intake.id }}" {% if form.intake.value == intake.id %}selected{% endif %}>{{ intake.name }}</option>
        {% endfor %}
      </select>
    </div>
    <button type="submit" class="btn btn-primary">Save</button>
  </form>
  <a href="{% url 'student_list' %}" class="btn btn-secondary mt-3">Back to Student List</a>
</div>
{% endblock %}
